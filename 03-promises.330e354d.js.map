{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAIA,MAAMC,EAAkBC,SAASC,cAAc,gBACzCC,EAAYF,SAASC,cAAc,eACnCE,EAAcH,SAASC,cAAc,iBACrCG,EAASJ,SAASC,cAAc,QAChCI,EAAaL,SAASC,cAAc,iBAG1C,IAAIK,EAAkB,EAClBC,EAAY,EACZC,EAAc,EAIlBJ,EAAOK,iBAAiB,SAExB,SAAqBC,GACnBJ,EAAkBP,EAAgBY,MAClCJ,EAAYL,EAAUS,MACtBH,EAAcL,EAAYQ,SAG5BN,EAAWI,iBAAiB,SAE5B,SAAuBC,GACrBA,EAAEE,iBAuBJ,SAA4BC,EAAYC,EAAMC,GAC1C,IAAIC,EAAU,EAEhB,MAAMC,EAAaC,KAAKC,MAGtBC,YAAW,KAEP,MAAMC,EAAWC,aAAY,KAC3BN,GAAW,EACRA,EAAUD,EACXQ,cAAcF,GA5B1B,SAAuBG,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAExBL,EACDI,EAAQ,qBAAqBN,QAAeN,KAAKC,MAAQM,OAGzDM,EAAO,oBAAoBP,QAAeN,KAAKC,MAAQM,UAsBnDO,CAAchB,EAASC,GACtBgB,MAAKH,IAAcjC,EAAAqC,OAAOC,QAAQL,GAAUM,QAAQC,IAAIP,MACxDQ,OAAMC,IAAW1C,EAAAqC,OAAOM,QAAQD,GAAQH,QAAQC,IAAIE,QAEtDzB,KAGFD,GA3CL4B,CAAmBnC,EAAiBC,EAAWC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\n\nconst firstDelayInput = document.querySelector('[name=delay]');\nconst stepInput = document.querySelector('[name=step]');\nconst amountInput = document.querySelector('[name=amount]');\nconst formEl = document.querySelector('form');\nconst sumbmitBtn = document.querySelector('[type=submit]');\n\n\nlet firstDelayValue = 0;\nlet stepValue = 0;\nlet amountValue = 0;\n\n\n\nformEl.addEventListener('input', onFormInput);\n\nfunction onFormInput(e) {\n  firstDelayValue = firstDelayInput.value;\n  stepValue = stepInput.value;\n  amountValue = amountInput.value;\n}\n\nsumbmitBtn.addEventListener('click', onSubmitClick);\n\nfunction onSubmitClick(e) {\n  e.preventDefault();\n  callCreatePromises(firstDelayValue, stepValue, amountValue);\n}\n\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n\n    if(shouldResolve){\n      resolve(`Fulfilled promise ${position} in ${Date.now() - delay}ms`)\n    }\n    else {\n      reject(`Rejected promise ${position} in ${Date.now() - delay}ms`)\n    }\n  \n  });\n};\n\n\n\nfunction callCreatePromises(firstDelay, step, amount) {\n    let counter = 0\n\n  const timeBefore = Date.now()\n\n\n    setTimeout(() => {\n\n        const timerId2 = setInterval(() => {\n          counter += 1;\n          if(counter > amount) {\n            clearInterval(timerId2);\n            return\n          }\n          createPromise(counter, timeBefore)\n          .then(resolve => {  Notify.success(resolve); console.log(resolve)} )\n          .catch(error => { Notify.failure(error); console.log(error)});\n    \n      }, step)\n\n    \n    }, firstDelay)\n}\n\n\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$firstDelayInput","document","querySelector","$47d4ff9957288465$var$stepInput","$47d4ff9957288465$var$amountInput","$47d4ff9957288465$var$formEl","$47d4ff9957288465$var$sumbmitBtn","$47d4ff9957288465$var$firstDelayValue","$47d4ff9957288465$var$stepValue","$47d4ff9957288465$var$amountValue","addEventListener","e","value","preventDefault","firstDelay","step","amount","counter","timeBefore","Date","now","setTimeout","timerId2","setInterval","clearInterval","position","delay","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","Notify","success","console","log","catch","error","failure","$47d4ff9957288465$var$callCreatePromises"],"version":3,"file":"03-promises.330e354d.js.map"}